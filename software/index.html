<!doctype html>
<html lang="en">
<head>
<title>Software</title>
<!-- 2021-08-05 Thu 17:15 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Edwin Hu">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script>
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-3 col-md-push-9"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Some command line tools worth learning</a>
<ul class="nav">
<li><a href="#sec-1-1">1.1. <code>anaconda</code></a></li>
<li><a href="#sec-1-2">1.2. <code>curl</code></a></li>
<li><a href="#sec-1-3">1.3. <code>jq</code></a></li>
<li><a href="#sec-1-4">1.4. <code>xmlstarlet</code></a></li>
<li><a href="#sec-1-5">1.5. <code>csvkit</code></a></li>
<li><a href="#sec-1-6">1.6. <code>dtach</code></a></li>
<li><a href="#sec-1-7">1.7. <code>lftp</code> and <code>dbxcli</code></a></li>
<li><a href="#sec-1-8">1.8. <code>GNU parallel</code></a></li>
</ul>
</li>
<li><a href="#sec-2">2. Some python libraries worth learning</a>
<ul class="nav">
<li><a href="#sec-2-1">2.1. <code>requests</code></a></li>
<li><a href="#sec-2-2">2.2. <code>asyncio</code></a></li>
<li><a href="#sec-2-3">2.3. <code>ipyparallel</code></a></li>
<li><a href="#sec-2-4">2.4. <code>pandas</code></a></li>
<li><a href="#sec-2-5">2.5. PyTables/hdf5</a></li>
<li><a href="#sec-2-6">2.6. <code>dask</code></a></li>
<li><a href="#sec-2-7">2.7. <code>ujson</code></a></li>
<li><a href="#sec-2-8">2.8. <code>benedict</code></a></li>
<li><a href="#sec-2-9">2.9. <code>numba</code></a></li>
</ul>
</li>
<li><a href="#sec-3">3. Some <code>R</code> libraries worth learning</a>
<ul class="nav">
<li><a href="#sec-3-1">3.1. Microsoft R Open (MRO)</a></li>
<li><a href="#sec-3-2">3.2. <code>tidyverse</code></a></li>
<li><a href="#sec-3-3">3.3. <code>data.table</code></a></li>
<li><a href="#sec-3-4">3.4. <code>felm</code> and <code>alpaca</code></a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div><div class="col-md-9 col-md-pull-3"><h1 class="title">Software</h1>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Some command line tools worth learning</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> <a href="https://www.anaconda.com/products/individual"><code>anaconda</code></a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Specifically <code>miniconda</code>.
</p>

<p>
Python is one of the most flexible tools for data analysis, but as a general
purpose programming language it does not come with all of the tools installed by
default. As such you will likely need to install some packages like <code>pandas</code>,
<code>numpy</code>, or even <code>jupyter notebook</code>. <code>anaconda</code> is a metapackage containing
almost everything you will need to use. Plus it comes with a great package
manager <code>conda</code>, which automatically solves dependencies/requirements for you,
and allows you to create your own environments.
</p>

<p>
However, a default <code>anaconda</code> installation can be several gigabytes, and over
time I&rsquo;ve found that I never use some packages. That&rsquo;s where <code>miniconda</code> comes
in. It&rsquo;s a much lighter-weight version of <code>anaconda</code> with the basic tools to
allow you to install only what you need. If you don&rsquo;t know what you will need,
go ahead and install <code>anaconda</code>.
</p>

<p>
If you are using <code>miniconda</code>, for starters I would recommend at least the
following:
</p>
<div class="org-src-container">

<pre class="src src-sh">conda install jupyter pandas numpy scipy scikit-learn --yes
</pre>
</div>
</div>

<div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> <a href="https://conda-forge.org/"><code>conda-forge</code></a></h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Some packages may not be available in the default <code>conda</code> channel. Oftentimes
these packages are available in the <a href="https://conda-forge.org/"><code>conda-forge</code></a> channel. <code>conda-forge</code> is a
vast, community-led project. As such you can often find what you need, but be
warned that sometimes the dependencies will conflict with your base <code>anaconda</code>
installation.
</p>

<p>
It&rsquo;s always worth checking <code>conda-forge</code>, as there are even non-python binaries
available, such as <code>htop</code>. You never know what you will find there.
</p>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2"><span class="section-number-4">1.1.2</span> environments</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
If you have different dependency requirements, due to conflicts with different
packages, channels, or if you just want to `freeze` each of your individual
project requirements individually then you will want to explore environments.
</p>

<p>
Using <code>conda</code> you can easily create your own environments and specify the exact
packages and version numbers you want:
</p>
<div class="org-src-container">

<pre class="src src-sh">conda create -n myenv <span style="color: #D8DEE9;">python</span>=<span style="color: #B48EAD; font-weight: bold;">3.6</span> <span style="color: #D8DEE9;">scipy</span>=0.15.0
</pre>
</div>

<p>
To start/stop using an environment:
</p>
<div class="org-src-container">

<pre class="src src-sh">activate myenv
deactivate myenv
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-1-3" class="outline-4">
<h4 id="sec-1-1-3"><span class="section-number-4">1.1.3</span> <code>pip</code></h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
As <code>anaconda</code> has grown and gotten more complex, sometimes resolving
dependencies can become a very difficult and time-consuming task. This is
especially true if you are working off of a highly customized <code>anaconda</code>
installation&#x2013;which tends to happen if you have an old install that you keep
adding to.
</p>

<p>
In times like this it is useful to fall back on the default Python package
manager <code>pip</code>. <code>pip</code> does some dependency-management, and by default reads from
<a href="https://pypi.org">PyPI</a>, the main Python Package Index, but can be tweaked to install from GitHub,
or from local files.
</p>

<p>
If you find yourself frustrated by <code>conda</code> don&rsquo;t forget, there is always <code>pip</code>!
</p>
</div>
</div>

<div id="outline-container-sec-1-1-4" class="outline-4">
<h4 id="sec-1-1-4"><span class="section-number-4">1.1.4</span> <code>conda</code> for <code>R</code></h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
Yes I know, this is blasphemy. However, sometimes just getting a basic <code>R</code>
installation up and running can take some time, as you might run into issues
getting things to compile correctly on your system. In fact, getting <code>R</code> set up
on different machines is what drove me to switch to Python and to try <code>anaconda</code>
in the first place. <code>anaconda</code> has actually <a href="https://docs.anaconda.com/anaconda/user-guide/tasks/using-r-language/">supported <code>R</code></a> for years now, and
just like with Python it is an easy way to get started. Plus, with projects like
<a href="https://irkernel.github.io/"><code>IRkernel</code></a>, which allows you to run <code>R</code> kernels in <code>jupyter notebook</code> it is a
pretty good way to do interactive data analysis. Most <code>R</code> packages can be
installed via <code>conda</code> with <code>r-[package name]</code>.
</p>

<p>
Much like <code>anaconda</code> for Python, I recommend that new <code>R</code> users start with
<code>tidyverse</code>, and <code>data.table</code> for getting started with data analysis:
</p>
<div class="org-src-container">

<pre class="src src-sh">conda install r-base r-essentials r-irkernel r-tidyverse r-data.table
</pre>
</div>

<p>
If, like me, you find yourself constantly playing with different <code>R</code> packages
then you may actually want to rely on <code>R</code>&rsquo;s built-in <code>install.packages()</code>, or
the <code>devtools::install_github</code> included in <code>tidyverse</code>. This may seem
counterintuitive, as I have (hopefully) just convinced you that <code>conda</code> is the
best tool for package management in every context&#x2013;but just as you may want to
fall back on <code>pip</code> for Python, you may find it easier to just use the default
package manager in <code>R</code> <i>after</i> you do your initial <code>conda install</code>.
</p>
</div>
</div>
</div>


<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> <a href="https://curl.haxx.se/"><code>curl</code></a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
These days much of the data you will want to analyze lives on the web. If you
want to get this data you will run into terms like HTTP, FTP, REST APIs, JSON.
If you want to work with these things you should probably learn <code>curl</code>.
</p>

<p>
The basic usage of <code>curl</code> is simple, yet endlessly customizable:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #8FBCBB;">curl</span> <span style="color: #81A1C1;">[</span>options<span style="color: #81A1C1;">]</span> <span style="color: #81A1C1;">[</span>URL...<span style="color: #81A1C1;">]</span>
</pre>
</div>

<p>
Why <code>curl</code> over something like <code>wget</code>? <code>curl</code> by default writes to <code>STDOUT</code>,
while <code>wget</code> writes directly to disk. This gives <code>curl</code> a significant advantage
in being a flexible utility in between pipes.
</p>

<p>
Bonus tip: <a href="https://anaconda.org/conda-forge/curl"><code>curl</code> is available in <code>conda-forge</code></a>.
</p>
</div>
</div>


<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> <a href="https://stedolan.github.io/jq/"><code>jq</code></a></h3>
<div class="outline-text-3" id="text-1-3">
<p>
<code>jq</code> is like <code>awk</code> but specifically for json files. It is fast, flexible, and
plays nicely with your other command-line tools.
</p>

<p>
It is extremely useful for pretty-printing your json files, and can be easily
used to glob multiple files. The more advanced syntax including <code>select~/~map</code>
can help you explore very complex files in just a few lines of code.
</p>

<p>
Bonus tip: <a href="https://anaconda.org/conda-forge/jq"><code>jq</code> is available in <code>conda-forge</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> <a href="http://xmlstar.sourceforge.net/overview.php"><code>xmlstarlet</code></a></h3>
<div class="outline-text-3" id="text-1-4">
<p>
<code>xmlstarlet</code> is like <code>awk/sed/grep</code> for XML files.
</p>

<p>
It is extremely useful for browsing the structure of your XML files (<code>xmlstarlet
el</code>), and subsequently extract the relevant information (<code>xmlstarlet sel</code>). It
is written in <code>C</code> so it is very fast.
</p>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> <a href="https://csvkit.readthedocs.io/en/latest/"><code>csvkit</code></a></h3>
<div class="outline-text-3" id="text-1-5">
<p>
Sometimes you need something a bit fancier than <code>less</code>&#x2013;that&rsquo;s when csvkit comes
in. <code>csvkit</code> includes a variety of tools for working with csv files including
<code>csvlook</code>, <code>csvjoin</code>, <code>csvformat</code> all of which can greatly enhance your ability
to work with csvs in the command line.
</p>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> <a href="http://dtach.sourceforge.net/"><code>dtach</code></a></h3>
<div class="outline-text-3" id="text-1-6">
<p>
<code>dtach</code> is like a much lighter-weight version of <code>screen</code> or <code>tmux</code>. As such, it
is very easy to use and is also a lot less finicky.
</p>

<p>
Note: you will have to build <code>dtach</code> from source yourself.
</p>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> <a href="https://lftp.yar.ru/"><code>lftp</code></a> and <a href="https://github.com/dropbox/dbxcli"><code>dbxcli</code></a></h3>
<div class="outline-text-3" id="text-1-7">
<p>
<code>lftp</code> is a great command line utility for FTP/FTPS. I use it because it is
capable of connecting to Box.com, which is a storage application used by many
universities.
</p>

<p>
<code>dbxcli</code> is a third-party open soruce tool for command line access to Dropbox.com
which works a lot like <code>lftp</code>. Instructions for setting up <code>dbxcli</code> are available on
the GitHub page.
</p>
</div>

<div id="outline-container-sec-1-7-1" class="outline-4">
<h4 id="sec-1-7-1"><span class="section-number-4">1.7.1</span> Setting up LFTP for Box.com</h4>
<div class="outline-text-4" id="text-1-7-1">
<p>
If you don&rsquo;t have root, setting up <code>lftp</code> can be a huge pain. You can download a
version through <code>conda-forge</code> but the version of <code>openssl</code> that it comes with
won&rsquo;t work because it will try to get the newest version of openssl and it has
an old API call, <code>SSL_library_init()</code>, which has been deprecated since v1.1.0.
</p>

<p>
To get around this you can create your own <code>conda</code> environment with an old, but
compatible version of <code>openssl</code>. Then all you have to do is symlink <code>lftp</code> onto
your path.
</p>

<div class="org-src-container">

<pre class="src src-sh">conda create --name lftp lftp <span style="color: #D8DEE9;">openssl</span>=1.0.2 -c conda-forge --yes
<span style="color: #8FBCBB;">ln</span> -s ~/miniconda3/envs/lftp/bin/lftp ~/miniconda3/bin/lftp
</pre>
</div>

<p>
You can then log in and bookmark your site:
</p>
<div class="org-src-container">

<pre class="src src-sh">lftp -u YOUR@EMAIL.COM ftps://ftp.box.com
Password:
bookmark add box
</pre>
</div>

<p>
If you want to have lftp save your password (generally not recommended) you can
modify your <code>/.lftprc</code> file by adding the following:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #81A1C1;">set</span> bmk:save-passwords yes
</pre>
</div>

<p>
You can then connect like this:
</p>
<div class="org-src-container">

<pre class="src src-sh">lftp
open box
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> <a href="https://www.gnu.org/software/parallel/"><code>GNU parallel</code></a></h3>
<div class="outline-text-3" id="text-1-8">
<p>
<code>GNU parallel</code> is a great command line utility written in Perl which allows for
very fine-tuned control over parallelization. If you are familiar with something
like <code>xargs</code>, then <code>parallel</code> is like a more robust, scalable version of
<code>xargs</code>.
</p>

<p>
Admittedly the learning curve for <code>parallel</code> can be a bit high, but it makes
replacing serial loops with parallel tasks very easy.
</p>

<p>
Suppose you have a script <code>SOMETHING</code> which you want to run over a list of <code>csv</code>
files in your current directory:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #81A1C1;">for</span> i<span style="color: #81A1C1;"> in</span> $<span style="color: #81A1C1;">(</span><span style="color: #8FBCBB;">find</span> *.csv<span style="color: #81A1C1;">)</span>; <span style="color: #81A1C1;">do</span>
    ./SOMETHING $<span style="color: #D8DEE9;">i</span>
<span style="color: #81A1C1;">done</span>
</pre>
</div>

<p>
One way to easily parallelize this in <code>bash</code> is to add <code>&amp;</code>:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #81A1C1;">for</span> i<span style="color: #81A1C1;"> in</span> $<span style="color: #81A1C1;">(</span><span style="color: #8FBCBB;">find</span> *.csv<span style="color: #81A1C1;">)</span>; <span style="color: #81A1C1;">do</span>
    ./SOMETHING $<span style="color: #D8DEE9;">i</span> &amp;
<span style="color: #81A1C1;">done</span>
</pre>
</div>

<p>
You could also accomplish the same task with a pipe:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #8FBCBB;">find</span> *.csv | ./SOMETHING
</pre>
</div>
<p>
or if the number of <code>csv</code> files is large you can use <code>xargs</code>:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #8FBCBB;">find</span> *.csv | xargs ./SOMETHING
</pre>
</div>

<p>
If you want more fine tuned control, such as over the number of concurrent jobs,
then that is where <code>parallel</code> comes in:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #8FBCBB;">find</span> *.csv | parallel -j8 ./SOMETHING
</pre>
</div>

<p>
<code>parallel</code> is very powerful, and can handle things like parsing arguments, and
handle concurrent writing in a safe way. Suppose that your input is a pipe
delimited file that you want to pass as arugments to your script and output to a
single file:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #8FBCBB;">cat</span> INPUT.csv | parallel --colsep <span style="color: #A3BE8C;">'\|'</span> <span style="color: #A3BE8C;">"./SOMETHING {1} {2}"</span> &gt; OUTPUT.csv
</pre>
</div>

<p>
Just remember you <code>bash</code> quoting rules and you will be fine!
</p>
</div>
</div>
</div>


<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Some python libraries worth learning</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> <a href="https://requests.readthedocs.io/en/master/"><code>requests</code></a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
<code>requests</code> is a dead-simple HTTP library for Python. Like <code>curl</code> it is an
essential building tool for working with data that lives on the web (aka
scraping).
</p>

<p>
For example, many websites are now built around REST APIs and deliver JSON
payloads. Rather than scraping HTML with something like <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/"><code>BeautifulSoup</code></a>, <a href="https://lxml.de/"><code>lxml</code></a>,
or worst of all <a href="https://www.selenium.dev/"><code>Selenium</code></a> you can save yourself a lot of time and preserve your
sanity by just using <code>requests</code> to get at the underlying data. All you need is
the Inspect window of your browser, and some patience and soon you will be an
API scraping master.
</p>

<p>
Bonus tip: <a href="https://curl.trillworks.com/">https://curl.trillworks.com/</a> is a great website that converts <code>curl</code>
statements into <code>requests</code> code. This is especially useful because some browsers
allow you to copy the results of HTTP requests into <code>curl</code>, which you can easily
convert into <code>requests</code> code!
</p>
</div>
</div>


<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> <a href="https://docs.python.org/3/library/asyncio.html"><code>asyncio</code></a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
<code>asyncio</code> is part of the Python standard library as of Python 3.4. It is a
library for running concurrent (single-threaded) code, and brings Python to the
forefront of event-driven programming. That is a fancy way of saying that it is
a neat library that can help you write highly parallel code, help you write your
own network apps, or even write some pretty fancy scrapers.
</p>

<p>
<code>asyncio</code> has spawned its own ecosystem of libraries, such as <a href="https://docs.aiohttp.org/en/stable/"><code>aiohttp</code></a> which is
like a async version of <a href="https://requests.readthedocs.io/en/master/"><code>requests</code></a>, and <a href="https://github.com/Tinche/aiofiles"><code>aiofiles</code></a> for dealing with the
filesystem asynchronously.
</p>
</div>
</div>


<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> <a href="https://ipyparallel.readthedocs.io/en/latest/"><code>ipyparallel</code></a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
<code>ipyparallel</code> is a parallel programming framework built around IPython. If you
are using <code>jupyter</code> then you are already working within the IPython framework.
<code>ipyparallel</code> is great at parallelizing tasks that are typically trivial to
parallelize such as long declarative <code>for</code> loops or large functional
<code>map~/~reduce</code> jobs. I&rsquo;ve also found <code>ipyparallel</code> useful for running
simulations. When it comes to processing data <code>ipyparallel</code> is sure to help in
your workflow.
</p>
</div>
</div>


<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> <a href="https://pandas.pydata.org/"><code>pandas</code></a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
You have data. You use Python. If these conditions apply, then you should use
<code>pandas</code>. The genius of <code>pandas</code> is that provides a <code>DataFrame</code>, an indexed,
two-dimensional, potentially heterogeneous and hierarchical table of rows and
columns. In all likelihood 99% of the data you analyze with statistical
techniques will fit into the <code>DataFrame</code> structure, and <code>pandas</code> makes working
with <code>DataFrames</code> a breeze with powerful functions for data serialization and
transformation.
</p>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> <a href="https://www.pytables.org/">PyTables</a>/hdf5</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Face it, sometimes you will have to write your data to disk. Maybe you don&rsquo;t
want to write your large and wonderful <code>DataFrame</code> to a csv file where you will
lose the easy row/column access and fast indexed-filtering. Fortunately PyTables
exists, and since it is built on hdf5 it makes reading/writing data on disk
super fast. The magic behind hdf5 is that it is &rsquo;hierarchical&rsquo;, and it has
<a href="https://www.hdfgroup.org/2017/05/hdf5-data-compression-demystified-2-performance-tuning/">internal compression</a> which often means your hdf5 files will be even smaller than
your csv equivalents. It also has many of the nice features of working with
<code>DataFrames</code>, and even some <a href="https://www.pytables.org/cookbook/hints_for_sql_users.html"><code>sql</code>-like</a> convenience functions.
</p>

<p>
<code>pandas</code> also makes working with PyTables and hdf5 files more generally a
breeze:
</p>
<div class="org-src-container">

<pre class="src src-python">df.to_hdf(..., <span style="color: #81A1C1;">format</span>=<span style="color: #A3BE8C;">'table'</span>)
df.read_hdf(..., where, start, stop, columns, chunksize)
</pre>
</div>

<p>
Warning: While PyTables is a great substitute for running a RMDB, or even
<code>sqlite</code> note that it is not designed for simultaneous write. It can however be
used for simultaneous read-only access. It&rsquo;s a great data format when you have
an <code>ipyparallel</code> workflow where you need to split/apply with a large data file.
</p>
</div>
</div>


<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> <a href="https://dask.org/"><code>dask</code></a></h3>
<div class="outline-text-3" id="text-2-6">
<p>
<code>dask</code> is a parallel data processing library. A typical use-case is when you
have a bunch of files spread across your filesystem, network, etc. and you want
to glob all of them do some minor processing/filtering and produce a combined
dataset. Perhaps you could write some bash script to <code>find</code> all of these files
and maybe then you <code>cat~/~grep~/~sed~/~awk</code> them together in some way. You might
even parallelize this process with <code>xargs</code> or GNU <code>parallel</code>. <code>dask</code> is
purpose-built for this task, and can be much easier to scale up.
</p>

<p>
Invoking <code>dask</code> is very simple:
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #81A1C1;">import</span> dask.bag <span style="color: #81A1C1;">as</span> db
<span style="color: #81A1C1;">import</span> ujson <span style="color: #81A1C1;">as</span> json

<span style="color: #D8DEE9;">files</span> = ! cat /path/to/your/files
<span style="color: #D8DEE9;">b</span> = db.read_text(files, files_per_partition=<span style="color: #B48EAD; font-weight: bold;">10000</span>).<span style="color: #81A1C1;">map</span>(json.loads)
</pre>
</div>

<p>
<code>dask</code> also has great diagnostic tools such as a <code>ProgressBar</code> and various
<a href="https://docs.dask.org/en/latest/diagnostics-local.html">profilers</a>.
</p>
</div>
</div>

<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7"><span class="section-number-3">2.7</span> <a href="https://github.com/ultrajson/ultrajson"><code>ujson</code></a></h3>
<div class="outline-text-3" id="text-2-7">
<p>
<code>ujson</code> stands for UltraJSON, which is an ultra fast JSON serializer written in
C with Python bindings. For most applications you can use it as a drop-in
replacement for the default Python <code>json</code> module, which is written in pure
Python and as such is slower.
</p>
</div>
</div>


<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8"><span class="section-number-3">2.8</span> <a href="https://github.com/fabiocaccamo/python-benedict"><code>benedict</code></a></h3>
<div class="outline-text-3" id="text-2-8">
<p>
<code>benedict</code> is a Python dictionary subclass that makes navigating dictionaries in
Python a lot easier. In many ways it is like <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/"><code>BeautifulSoup</code></a>, which is very good
at working with irregular or malformed HTML/XML data, but for Python
dictionaries, and JSON-like data. It is not as full-featured as many of the
libraries on this list, but it can be very useful if you are working with
irregular JSON data.
</p>
</div>
</div>


<div id="outline-container-sec-2-9" class="outline-3">
<h3 id="sec-2-9"><span class="section-number-3">2.9</span> <a href="http://numba.pydata.org/"><code>numba</code></a></h3>
<div class="outline-text-3" id="text-2-9">
<p>
At first glance, <code>numba</code> seems like an odd choice for Python users. The appeal of Python is that it is an interpreted language, and hence does not need to be compiled to run. <code>numba</code> is a compiler for Python code. However, it is an easy to use, just-in-time (JIT) compiler using the LLVM compiler library. That means that it can take very simple Python and <code>numpy</code> code and turn it into LLVM compiled code that is nearly as fast as C or FORTRAN code.
</p>

<p>
A good use case for <code>numba</code> is taking an expensive matrix multiplication and
re-writing it as a loop. This may seem counterintuitive as the whole point of
<code>numpy</code> is to abstract away from slow Python loops for optimized abstracted
matrix operations. Yet these dumb, slow Python loops combined with <code>numba</code> can
be significantly faster than <code>numpy</code> counterparts if used correctly.
</p>
</div>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Some <code>R</code> libraries worth learning</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> <a href="https://mran.microsoft.com/open">Microsoft R Open (MRO)</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
This is not an <code>R</code> library, but a distribution. Years ago, Revolution Analytics
produced a highly optimized <code>R</code> distribution that was significantly faster for
analytics than the base <code>R</code>. It leveraged tools like the Intel Math Kernel
Library to speed up matrix operations and was fantastic to use. The problem is
that unlike R which is free and doesn&rsquo;t require a license, Revolution <code>R</code>
required a license and could be expensive. Microsoft acquired Revolution
Analytics, and the distribution is now available for free, as the Microsoft R
Open distribution, which is available through <code>conda</code>!
</p>

<p>
Installing is as easy as replacing <code>r-base</code> with <code>mro-base</code>:
</p>
<div class="org-src-container">

<pre class="src src-sh">conda install mro-base r-essentials
</pre>
</div>

<p>
MRO is good enough to use as an everyday R distribution, but you may still find
that it is better to put it in a separate environment.
</p>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> <a href="https://www.tidyverse.org/"><code>tidyverse</code></a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
<code>tidyverse</code> is a metapackage of data analysis tools for <code>R</code>. In many ways it is
like the <code>anaconda</code> default installation in that it includes so many of the
essentials. To get started analyzing data in a modern <code>R</code> setup you will likely
need <code>ggplot2</code>, <code>dplyr</code>, <code>stringr</code>, and <code>purrr</code> just to name a few. All of these
are part of <code>tidyverse</code>.
</p>

<p>
<code>tidyverse</code> also contains one of the most useful packages in any language:
<code>haven</code>, which allows you to read <code>SAS</code> and <code>Stata</code> files. Look, we can all
pretend like we don&rsquo;t have co-authors that use these languages, or we can deal
with it and use <code>haven</code>.
</p>
</div>
</div>


<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html"><code>data.table</code></a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
<code>data.table</code> is <a href="https://github.com/Rdatatable/data.table/wiki/Benchmarks-:-Grouping">very fast</a>, and has an intuitive syntax. It is certainly
different from <code>tidyverse::dplyr</code>, but for those familiar with <code>pandas</code>,
PyTable, or <code>sql</code> it may be more intuitive.
</p>

<p>
Bonus tip: DataCamp has a great <a href="https://s3.amazonaws.com/assets.datacamp.com/blog_assets/datatable_Cheat_Sheet_R.pdf">cheat sheet</a> for <code>data.table</code>.
</p>
</div>
</div>


<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> <a href="https://www.rdocumentation.org/packages/lfe/versions/2.8-6/topics/felm"><code>felm</code></a> and <a href="https://github.com/amrei-stammann/alpaca"><code>alpaca</code></a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
<code>felm</code> and <code>alpaca</code> are R packages for linear/logistic regressions with high
dimensional fixed effects and clustered standard errors. Both are available on
CRAN, and are fairly well documented.
</p>
</div>
</div>
</div>
</div></div></div>
<footer id="postamble" class="">
<div><p class="author">Author: Edwin Hu</p>
<p class="date">Created: 2021-08-05 Thu 17:15</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 27.1 (<a href="http://orgmode.org">Org-mode</a> 9.5)</p>
</div>
</footer>
</body>
</html>
